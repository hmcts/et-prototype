2023-07-06T12:35:04.582Z
cwd: ~/dev/et-prototype
package: govuk-prototype-kit@13.10.0
argv: /usr/local/bin/node ~/.npm/_npx/ab0cb2c39bc0319f/node_modules/.bin/govuk-prototype-kit migrate
Started [Check migration is being applied to a pre v13 prototype]
Succeeded [Check migration is being applied to a pre v13 prototype]
2023-07-06T12:35:10.319Z
cwd: ~/dev/et-prototype
package: govuk-prototype-kit@13.10.0
argv: /usr/local/bin/node ~/dev/et-prototype/node_modules/.bin/govuk-prototype-kit migrate -- ~/dev/et-prototype
Started [Migrate config.js to config.json]
Started [Update application SCSS file]
Started [Deleted files that are no longer needed]
Started [Deleted directories that are no longer needed]
Started [Delete listen-on-port.js]
Started [Delete server.js]
Started [Delete start.js]
Started [Delete VERSION.txt]
Started [Delete Procfile]
Started [Delete app/assets/sass/unbranded-ie8.scss]
Started [Delete app/assets/sass/application-ie8.scss]
Started [Remove unused directory docs]
Started [Remove unused directory lib]
Started [Remove unused directory update]
Started [Remove unused directory public]
Succeeded [Migrate config.js to config.json]
Succeeded [Delete listen-on-port.js]
Succeeded [Delete server.js]
Succeeded [Delete start.js]
Succeeded [Delete VERSION.txt]
Succeeded [Delete app/assets/sass/application-ie8.scss]
Succeeded [Delete Procfile]
Succeeded [Delete app/assets/sass/unbranded-ie8.scss]
Succeeded [Deleted files that are no longer needed]
Found [// Add your routes here - above the module.exports line] in [app/routes.js], replacing
Started [Overwrite app/filters.js]
Started [Overwrite app/views/layout.html]
Started [Overwrite app/assets/javascripts/application.js]
Found [// Add extra styles here, or re-organise the Sass files in whichever way makes most sense to you] in [app/assets/sass/application.scss], replacing
Keeping these lines from old file
Started [Delete app/assets/javascripts/auto-store-data.js]
Copying from [node_modules/govuk-prototype-kit/prototype-starter/app/filters.js] to [app/filters.js]
Started [Delete app/assets/images/separator.png]
Copying from [node_modules/govuk-prototype-kit/prototype-starter/app/views/layouts/main.html] to [app/views/layout.html]
Started [Delete app/views/includes/breadcrumb_examples.html]
Started [Delete app/views/layout_unbranded.html]
Started [Delete app/assets/images/separator-2x.png]
Started [Delete app/views/includes/head.html]
Started [Delete app/assets/images/unbranded.ico]
Started [Delete app/views/includes/scripts.html]
Started [Delete app/assets/sass/unbranded.scss]
Copying from [node_modules/govuk-prototype-kit/prototype-starter/app/assets/javascripts/application.js] to [app/assets/javascripts/application.js]
Started [Delete app/assets/sass/patterns/_contents-list.scss]
Started [Delete app/assets/sass/patterns/_mainstream-guide.scss]
Started [Delete app/assets/javascripts/jquery-1.11.3.js]
Started [Delete app/assets/sass/patterns/_pagination.scss]
Started [Delete app/assets/sass/patterns/_related-items.scss]
Started [Delete app/assets/sass/patterns/_task-list.scss]
Started [Delete app/assets/sass/patterns/_step-by-step-nav.scss]
Started [Delete app/assets/sass/patterns/_step-by-step-related.scss]
Started [Delete app/assets/sass/patterns/_step-by-step-header.scss]
Keeping these lines from old file
Succeeded [Delete app/assets/javascripts/auto-store-data.js]
Succeeded [Delete app/assets/images/separator.png]
Succeeded [Delete app/views/includes/breadcrumb_examples.html]
Succeeded [Delete app/views/layout_unbranded.html]
Succeeded [Delete app/assets/images/separator-2x.png]
Succeeded [Delete app/views/includes/head.html]
Succeeded [Delete app/assets/images/unbranded.ico]
Succeeded [Delete app/views/includes/scripts.html]
Succeeded [Delete app/assets/sass/unbranded.scss]
Succeeded [Delete app/assets/sass/patterns/_mainstream-guide.scss]
Succeeded [Delete app/assets/sass/patterns/_contents-list.scss]
Succeeded [Delete app/assets/javascripts/jquery-1.11.3.js]
Succeeded [Delete app/assets/sass/patterns/_pagination.scss]
Succeeded [Update application SCSS file]
Succeeded [Delete app/assets/sass/patterns/_task-list.scss]
Succeeded [Delete app/assets/sass/patterns/_step-by-step-nav.scss]
Succeeded [Delete app/assets/sass/patterns/_related-items.scss]
Succeeded [Delete app/assets/sass/patterns/_step-by-step-related.scss]
Succeeded [Delete app/assets/sass/patterns/_step-by-step-header.scss]
//,// For guidance on how to create routes see:,// https://prototype-kit.service.gov.uk/docs/create-routes,//,,const govukPrototypeKit = require('govuk-prototype-kit'),const router = govukPrototypeKit.requests.setupRouter(),,// Add your routes here,,,// router.post('/which-part', function (req, res) {,//   req.session.data['working'] = 'yes';,//     res.redirect('/vary-an-order/2-which-part'),// }),,router.post('/which-order-answer', function (req, res) {,  res.redirect('/vary-an-order/2-which-part'),}),,router.post('/which-part-answer', function (req, res) {,  res.redirect('/vary-an-order/3-how'),}),,router.post('/how-answer', function (req, res) {,  res.redirect('/vary-an-order/4-why'),}),,router.post('/why-answer', function (req, res) {,  res.redirect('/vary-an-order/5-supporting-materials'),}),,router.post('/why-answer', function (req, res) {,  res.redirect('/vary-an-order/5-supporting-materials'),}),,router.post('/supporting-materials-answer', function (req, res) {,,  // Make a variable and give it the value from 'how-many-balls',  var supportingMaterials = req.session.data['supporting-materials'],,  // Check whether the variable matches a condition,  if (supportingMaterials == "Yes"){,    // Send user to Upload,    res.redirect('/vary-an-order/6-upload-documents'),  } else {,    // Send user to R92,    res.redirect('/vary-an-order/7-Rule92'),  },}),,router.post('/submitted-rule92', function (req, res) {,,    // Make a variable and give it the value from 'how-many-balls',    var rule92 = req.session.data['rule-92'],,    // Check whether the variable matches a condition,    if (rule92 == "yes"){,      // Send user to rule92-yes-submitted,      res.redirect('/vary-an-order/8-rule92-yes-submitted'),    } else {,      // // Send user to rule92-no-submitted,      res.redirect('/vary-an-order/9-rule92-no-submitted'),    },  }),,// router.post('/upload-documents-done', function (req, res) {,//     res.redirect('/vary-an-order/7-Rule92'),//   },,router.post('/restrict-supporting-materials-answer', function (req, res) {,,  // Make a variable and give it the value from 'how-many-balls',  var supportingMaterials = req.session.data['supporting-materials'],,  // Check whether the variable matches a condition,  if (supportingMaterials == "Yes"){,    // Send user to Upload,    res.redirect('/research-22Aug/restrict-5-upload-documents'),  } else {,    // Send user to R92,    res.redirect('/research-22Aug/restrict-6-Rule92'),  },}),,router.post('/restrict-submitted-rule92', function (req, res) {,,    // Make a variable and give it the value from 'how-many-balls',    var rule92 = req.session.data['rule-92'],,    // Check whether the variable matches a condition,    if (rule92 == "yes"){,      // Send user to rule92-yes-submitted,      res.redirect('/research-22Aug/restrict-8-rule92-yes-submitted'),    } else {,      // // Send user to rule92-no-submitted,      res.redirect('/research-22Aug/restrict-9-rule92-no-submitted'),    },  }),,  router.post('/witness-documents-answer', function (req, res) {,,      // Make a variable and give it the value from 'how-many-balls',      var documents = req.session.data['witness-documents'],,      // Check whether the variable matches a condition,      if (documents == "Yes"){,        // Send user to the second document question,        res.redirect('/research-22Aug/witness-7-copies'),      } else {,        // // Send user to next question instead,        res.redirect('/research-22Aug/witness-9-supporting-materials'),      },    }),,    router.post('/witness-supporting-materials-answer', function (req, res) {,,      // Make a variable and give it the value from 'how-many-balls',      var supportingMaterials = req.session.data['supporting-materials'],,      // Check whether the variable matches a condition,      if (supportingMaterials == "Yes"){,        // Send user to Upload,        res.redirect('/research-22Aug/witness-10-upload-documents'),      } else {,        // Send user to R92,        res.redirect('/research-22Aug/witness-11-check-your-answers'),      },    }),// ET3 round 1,    router.post('/respondent-address-answer', function (req, res) {,,      // Make a variable and give it the value from 'how-many-balls',      var respondentAddress = req.session.data['respondent-correct-address'],,      // Check whether the variable matches a condition,      if (respondentAddress == "Yes"){,        // Send user to Preferred contact name,        res.redirect('/et3-research/09-contact-name'),      } else {,        // Enter new address,        res.redirect('/et3-research/06-new-respondent-address'),      },    }),,    router.post('/claimant-employment-dates', function (req, res) {,,      // Make a variable and give it the value from 'how-many-balls',      var employeeDates = req.session.data['claimant-employee-dates'],,      // Check whether the variable matches a condition,      if (employeeDates == "No"){,        // Send user to Preferred contact name,        res.redirect('/et3-research/22-claimant-employment-dates'),      } else {,        // Enter new address,        res.redirect('/et3-research/23-employment-continuing'),      },    }),,    router.post('/claimant-pay-answer', function (req, res) {,,      // Make a variable and give it the value from 'how-many-balls',      var claimantPay = req.session.data['claimant-pay'],,      // Check whether the variable matches a condition,      if (claimantPay == "No"){,        // Send user to Preferred contact name,        res.redirect('/et3-research/28-claimant-pay'),      } else {,        // Enter new address,        res.redirect('/et3-research/29-claimant-notice'),      },    }),,    router.post('/contesting-the-claim-answer', function (req, res) {,,      // Make a variable and give it the value from 'how-many-balls',      var contesting = req.session.data['contest'],,      // Check whether the variable matches a condition,      if (contesting == "Yes"){,        // Send user to Preferred contact name,        res.redirect('/et3-research/33-contest-the-claim'),      } else {,        // Enter new address,        res.redirect('/et3-research/34-check-your-answers'),      },    }),,    router.post('/contract-claim-answer', function (req, res) {,,      // Make a variable and give it the value from 'how-many-balls',      var contractClaim = req.session.data['ECC'],,      // Check whether the variable matches a condition,      if (contractClaim == "Yes"){,        // Send user to Preferred contact name,        res.redirect('/et3-research/36-contract-claim-details'),      } else {,        // Enter new address,        res.redirect('/et3-research/37-check-your-answers'),      },    }),,// ET3 round 2,    router.post('/2-respondent-address-answer', function (req, res) {,,      // Make a variable and give it the value from 'how-many-balls',      var respondentAddress = req.session.data['respondent-correct-address'],,      // Check whether the variable matches a condition,      if (respondentAddress == "Yes"){,        // Send user to Preferred contact name,        res.redirect('/et3-research-2/09-contact-name'),      } else {,        // Enter new address,        res.redirect('/et3-research-2/06-new-respondent-address'),      },    }),,    router.post('/2-claimant-employment-dates', function (req, res) {,,      // Make a variable and give it the value from 'how-many-balls',      var employeeDates = req.session.data['claimant-employee-dates'],,      // Check whether the variable matches a condition,      if (employeeDates == "No"){,        // Send user to Preferred contact name,        res.redirect('/et3-research-2/22-claimant-employment-dates'),      } else {,        // Enter new address,        res.redirect('/et3-research-2/23-employment-continuing'),      },    }),,    router.post('/2-claimant-pay-answer', function (req, res) {,,      // Make a variable and give it the value from 'how-many-balls',      var claimantPay = req.session.data['claimant-pay'],,      // Check whether the variable matches a condition,      if (claimantPay == "No"){,        // Send user to Preferred contact name,        res.redirect('/et3-research-2/28-claimant-pay'),      } else {,        // Enter new address,        res.redirect('/et3-research-2/29-claimant-notice'),      },    }),,    router.post('/2-contesting-the-claim-answer', function (req, res) {,,      // Make a variable and give it the value from 'how-many-balls',      var contesting = req.session.data['contest'],,      // Check whether the variable matches a condition,      if (contesting == "Yes"){,        // Send user to Preferred contact name,        res.redirect('/et3-research-2/33-contest-the-claim'),      } else {,        // Enter new address,        res.redirect('/et3-research-2/34-check-your-answers'),      },    }),,    router.post('/2-contract-claim-answer', function (req, res) {,,      // Make a variable and give it the value from 'how-many-balls',      var contractClaim = req.session.data['ECC'],,      // Check whether the variable matches a condition,      if (contractClaim == "Yes"){,        // Send user to Preferred contact name,        res.redirect('/et3-research-2/36-contract-claim-details'),      } else {,        // Enter new address,        res.redirect('/et3-research-2/37-check-your-answers'),      },    }),,    router.post('/responding-materials-answer', function (req, res) {,,      // Make a variable and give it the value,      var supportingMaterials = req.session.data['supporting-material'],,      // Check whether the variable matches a condition,      if (supportingMaterials == "yes"){,        // Send user to Supporting materials,        res.redirect('/responding/5-supporting-materials'),      } else {,        // Send user to Rule 92,        res.redirect('/responding/6-R92'),      },    }),,,,,module.exports = router,
Succeeded [Remove unused directory lib]
Found [module.exports = router;,module.exports = router] in [app/routes.js], removing
Succeeded [Remove unused directory public]
Succeeded [Overwrite app/filters.js]
Succeeded [Update routes file]
Succeeded [Overwrite app/views/layout.html]
Succeeded [Remove unused directory docs]
Succeeded [Overwrite app/assets/javascripts/application.js]
Succeeded [Remove unused directory update]
Succeeded [Deleted directories that are no longer needed]
Started [Remove old pattern includes from application SCSS file]
Succeeded [Remove old pattern includes from application SCSS file]
Started [Remove empty directory app/assets/sass/patterns]
Started [Remove empty directory app/assets/images]
Started [Remove empty directory app/views/includes]
Skipped deleting app/assets/images
Succeeded [Remove empty directory app/assets/sass/patterns]
Succeeded [Remove empty directory app/views/includes]
